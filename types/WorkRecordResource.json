{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "/types/workRecord",
    "description": "Abstract class that represents a work record - an activity that has been carried out.",
    "type": "object",
    "required": [
        "operation",
        "status"
    ],
    "allOf": [
        {
            "$ref": "../types/observation.json"
        }
    ],
    "properties": {
        "operation":{
            "type":"string",
            "description":"Constant value in any concrete class for the operation type"
        },
        "status":{
            "$ref":"../enums/workItemStatus.json"
        },
        "priority":
        {
            "$ref":"../enums/workItemPriority.json"
        },
        "startDateTime": {
            "$ref": "../types/DateTimeType.json",
            "format":"date-time",
            "description": "The start datetime of the operation"
        },
        "endDateTime": {
            "$ref": "../types/DateTimeType.json",
            "format":"date-time",
            "description": "The end datetime of the operation"
        },
        "area": {
            "$ref": "https://raw.githubusercontent.com/Datalinker-Org/Geospatial/master/types/AreaMeasureType.json",
            "description": "Area of the operation"
        },        
        "crops": {
            "type": "array",
            "items": {
                "$ref": "https://raw.githubusercontent.com/Datalinker-Org/Geospatial/master/types/CropType.json"
            }
        },
        "environment": {
            "description":"Captured environmental data",
            "$ref": "./environment.json"
        },
        "operations":{
            "description" : "array of operations completed in this work record",
            "type":"array",
            "items":{
                "$ref": "./operationRecord.json"
            }

        }
    }
}